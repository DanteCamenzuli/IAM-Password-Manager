<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:include src="/mgt/modules/dialogHead.xhtml" />

<f:view locale="#{operatorSessionBean.locale}">
	<h:body class="dialogBody">
		<h:form id="userProfileForm">
			<h:panelGrid id="changeProfileSettingsx" columns="2" cellpadding="2" cellspacing="2" style="width: 100%">
				<h:panelGroup id="profileFoto">
					<p:graphicImage cache="false" styleClass="imageProfileUser" value="#{userProfileDialog.photoUserProfile}" />
				</h:panelGroup>
				<p:fileUpload listener="#{userProfileDialog.photoProfileListener}" label="#{CoreMsg['uploadAndChange']}" value="#{userProfileDialog.uploadPhotoProfile}"
					mode="simple" skinSimple="true" immediate="true" auto="true" multiple="false" update="profileFoto" allowTypes="/(\.|\/)(gif|jpe?g|png|PNG)$/" fileLimit="1" />

				<h:outputLabel value="#{CoreMsg['label.userLoginId']}" rendered="#{userProfileDialog.user.domainUser == true}" />
				<h:outputLabel value="#{userProfileDialog.user.loginId}" required="true" redisplay="true" rendered="#{userProfileDialog.user.domainUser == true}" />

				<h:outputLabel for="name" value="#{CoreMsg['label.userLoginId']}" rendered="#{userProfileDialog.user.domainUser == false}" />
				<p:inputText id="name" value="#{userProfileDialog.user.loginId}" required="true" redisplay="true" rendered="#{userProfileDialog.user.domainUser == false}" />

				<h:outputLabel for="displayname" value="#{CoreMsg['label.fullName']}" rendered="#{userProfileDialog.user.domainUser == false}" />
				<p:inputText id="displayname" value="#{userProfileDialog.user.displayName}" redisplay="true" rendered="#{userProfileDialog.user.domainUser == false}" />

				<h:outputLabel for="mail" value="#{CoreMsg['label.emailAddress']}" rendered="#{userProfileDialog.user.domainUser == false}" />
				<p:inputText id="mail" style="width: 25em" value="#{userProfileDialog.user.email}" redisplay="true" required="true"
					requiredMessage="#{CoreMsg['registration.missingEmail']}" rendered="#{userProfileDialog.user.domainUser == false}" />

				<h:outputLabel for="privateMail" value="#{CoreMsg['label.privateEmailAdress']}" />
				<p:inputText id="privateMail" style="width: 25em" value="#{userProfileDialog.user.privateEmail}" redisplay="true" />

				<h:outputLabel for="phone" value="#{CoreMsg['label.phoneNumber']}" rendered="#{userProfileDialog.user.domainUser == false}" />
				<p:inputText id="phone" value="#{userProfileDialog.user.telephoneNumber}" redisplay="true" rendered="#{userProfileDialog.user.domainUser == false}" />

				<h:outputLabel for="mobile" value="#{CoreMsg['label.mobileNumber']}" rendered="#{userProfileDialog.user.domainUser == false}" />
				<p:inputText id="mobile" value="#{userProfileDialog.user.mobileNumber}" redisplay="true" rendered="#{userProfileDialog.user.domainUser == false}" />

				<h:outputLabel for="prvMobile" id="prvMobileInfo" value="#{CoreMsg['label.prvMobile']}" />
				<p:inputText id="prvMobile" value="#{userProfileDialog.user.privateMobileNumber}" redisplay="true" />

				<h:outputLabel for="language" value="#{CoreMsg['label.language']}" />
				<p:selectOneMenu id="language" value="#{userProfileDialog.lang}" size="20">
					<f:selectItem itemLabel="#{CoreMsg['label.language.selectOne']}" itemValue="" noSelectionOption="true" />
					<f:selectItems value="#{userPortalModule.supportedLanguages}" />
				</p:selectOneMenu>

				<p:outputLabel for="country" value="#{CoreMsg['label.Country']}" />
				<p:selectOneMenu id="country" value="#{userProfileDialog.country}">
					<f:selectItems value="#{userProfileDialog.availableCountries}" />
				</p:selectOneMenu>

				<p:outputLabel for="selectTimeZone" value="#{CoreMsg['label.timezone']}" />
				<h:panelGrid id="selectTimeZone" columns="2" cellpadding="1" cellspacing="1" style="width: 100%">
					<p:outputLabel value="#{CoreMsg['label.defaultTimezone']} " />
					<p:selectBooleanCheckbox value="#{userProfileDialog.defaultTimezone}">
						<p:ajax event="change" update="selectTimeZone" />
					</p:selectBooleanCheckbox>
					<p:outputLabel for="timezone" value="#{CoreMsg['label.timezoneContinent']}" />
					<p:selectOneMenu id="timezone" disabled="#{userProfileDialog.defaultTimezone}" value="#{userProfileDialog.continentTimezone}" style="margin-left: 1em;">
						<f:selectItems value="#{userProfileDialog.continentTimezones}">
						</f:selectItems>
						<p:ajax event="change" update="timezoneCountry" />
					</p:selectOneMenu>

					<p:outputLabel for="timezoneCountry" value="#{CoreMsg['label.timezoneCountry']}" />
					<p:selectOneMenu id="timezoneCountry" disabled="#{userProfileDialog.defaultTimezone}" value="#{userProfileDialog.countryTimezone}"
						style="margin-left: 1em;">
						<f:selectItems value="#{userProfileDialog.countryTimezones}">
						</f:selectItems>
					</p:selectOneMenu>
				</h:panelGrid>
			</h:panelGrid>

			<p:tooltip for="prvMobile" value="#{CoreMsg['label.prvMobileInfo']}" />
			<p />
			<p:commandButton id="saveUserProfile" value="#{CoreMsg['ok']}" action="#{userProfileDialog.actionSave}" style="width: 10em" icon="fa fa-save"
				ajax="false" />

			<p:spacer width="30" />
			<p:commandButton id="closeDialog" value="#{CoreMsg['cancel']}" icon="fa fa-close" immediate="true" action="#{viewNavigator.actionCloseDialog}" />
			<br />
			<p />
		</h:form>
	</h:body>
</f:view>
</html>
